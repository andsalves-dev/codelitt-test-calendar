(this["webpackJsonpcodelitt-test"]=this["webpackJsonpcodelitt-test"]||[]).push([[0],{15:function(e,t,n){e.exports={container:"Month_container__ErIqO",table:"Month_table__136EU"}},2:function(e,t,n){e.exports={overlay:"ReminderModal_overlay__3Uhc7",heading:"ReminderModal_heading__kuBpl",modal:"ReminderModal_modal__2hGpT",inputGroup:"ReminderModal_inputGroup__2Zuzb",inputHolder:"ReminderModal_inputHolder__1jwAf",red:"ReminderModal_red__1zouw",button:"ReminderModal_button__19YQh",colorsRadioGroup:"ReminderModal_colorsRadioGroup__3F1zD",colorRadioAux:"ReminderModal_colorRadioAux__1CGUY",active:"ReminderModal_active__23zYW"}},20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),i=n.n(r),o=(n(20),n(6)),l=n(11),d=n(4),s=function(e){localStorage.setItem("remindersList",JSON.stringify(e))},u=Object(l.b)({name:"reminders",initialState:{list:function(){try{var e=localStorage.getItem("remindersList");return JSON.parse(e)||[]}catch(t){}return[]}(),showModal:!1},reducers:{add:function(e,t){var n=t.payload,a=e.list.reduce((function(e,t){return t.id>e?t.id:e}),0)+1;e.list.push(Object(d.a)({id:a},n)),s(e.list)},remove:function(e,t){var n=t.payload;e.list=e.list.filter((function(e){return e.id!==n.id})),s(e.list)},edit:function(e,t){var n=t.payload;e.list=e.list.map((function(e){return e.id===n.id?Object(d.a)(Object(d.a)({},e),n):e})),s(e.list)}}}),m=u.actions,j=m.add,b=m.remove,h=m.edit,O=u.reducer,f=Object(l.a)({reducer:{reminders:O}}),x=n(7),_=n(3),p=n.n(_),v=n(5),C=n.n(v),M=n(0),Y=function(){return Object(M.jsx)("td",{className:C.a.emptyCell,children:"\xa0"})};function y(e){var t=e.dayMoment,n=e.reminders,a=e.setModalReminder,c=e.onClick,r=e.selected;return Object(M.jsx)("td",{children:Object(M.jsxs)("div",{className:"".concat(C.a.cellContent," ").concat(r?C.a.selected:""),onClick:c,onDoubleClick:function(){return a({datetime:t.format("YYYY-MM-DD 12:00:00")})},role:"button",children:[Object(M.jsx)("span",{className:"".concat(C.a.day," ").concat(t.isSame(p()(),"day")?C.a.isToday:""),children:t.date()}),n.length>0&&Object(M.jsx)("ul",{className:C.a.reminders,children:n.map((function(e){return Object(M.jsxs)("li",{className:C.a.reminder,"data-testid":"reminder",onClick:function(){return a(e)},role:"button",style:{backgroundColor:e.color},children:[p()(e.datetime).format("HH:mm")," ",e.title]},e.id)}))})]})})}var g=n(15),N=n.n(g);function D(e){for(var t=e.baseDate,n=e.setModalReminder,a=e.onDateSelect,c=p()(t),r=c.startOf("month"),i=c.daysInMonth(),l=r.weekday(),d=Object(o.c)((function(e){return e.reminders.list.filter((function(e){return c.isSame(e.datetime,"month")}))})),s=[],u=function(e){s.push(Object(M.jsx)("tr",{children:Array.from(Array(7)).map((function(r,o){var s=7*e-l+o+1;if(s>i||s<1)return Object(M.jsx)(Y,{},s);var u=c.date(s).clone(),m=d.filter((function(e){return u.isSame(e.datetime,"day")})).sort((function(e,t){return p()(e.datetime).isBefore(t.datetime)?-1:1}));return Object(M.jsx)(y,{dayMoment:u,onClick:function(){return a(u)},reminders:m,selected:u.isSame(t,"day"),setModalReminder:n},s)}))},e+1))},m=0;i>7*m-l;m++)u(m);return Object(M.jsx)("div",{className:N.a.container,children:Object(M.jsxs)("table",{className:N.a.table,children:[Object(M.jsx)("thead",{children:Object(M.jsx)("tr",{children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return Object(M.jsx)("th",{children:e},e)}))})}),Object(M.jsx)("tbody",{children:s})]})})}var k=n(8),R=n.n(k),S=n(10),H=["#42E","#F12","#019899","#AA0","#000"],T=n(2),A=n.n(T);function F(e){var t=e.onHide,n=e.reminder,c=void 0===n?{}:n,r=Object(a.useRef)(),i=Object(o.b)(),l=Object(a.useState)(function(e){var t=e.datetime?p()(e.datetime):null,n=p()();return Object(d.a)(Object(d.a)({},e),{},{title:e.title||"",color:e.color||H[0],date:t?t.format("YYYY-MM-DD"):n.format("YYYY-MM-DD"),time:t?t.format("HH:mm"):n.add(1,"hour").format("HH:00")})}(c)),s=Object(x.a)(l,2),u=s[0],m=s[1],O=Object(a.useState)({}),f=Object(x.a)(O,2),_=f[0],v=f[1],C=Object(a.useMemo)((function(){return Object.keys(_).length>0}),[_]);Object(a.useEffect)((function(){r.current&&r.current.focus()}),[]),Object(a.useEffect)((function(){v(function(e){return e.title&&e.date&&e.time&&e.color?p()(e.date,["MMM D, YYYY","YYYY-MM-DD"],!0).isValid()?e.time.match(/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/)?{}:{time:'Invalid time format. Accepted format: "HH:mm", example: "15:00"'}:{date:'Invalid date format. Accepted formats: "YYYY-MM-DD" or "MMM DD, YYYY", examples: "2022-10-11", "Jan 3, 2022"'}:{general:"All the fields are required"}}(u))}),[u]);var Y=Object(a.useCallback)((function(){if(!C){var e=u.id?h:j;i(e(function(e){return Object(d.a)(Object(d.a)({},e),{},{title:e.title,datetime:"".concat(p()(e.date).format("YYYY-MM-DD"),"T").concat(e.time),color:e.color})}(u))),t()}}),[i,u,t,C]),y=Object(a.useCallback)((function(){window.confirm("Are you sure? ")&&(i(b(c)),t())}),[i,c,t]),g=Object(a.useCallback)((function(e){var t=e.currentTarget,n=t.name,a=t.value;m((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(S.a)({},n,a))}))}),[]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:A.a.overlay}),Object(M.jsxs)("div",{className:A.a.modal,children:[Object(M.jsxs)("h3",{className:A.a.heading,children:[c.id?"Edit":"Add"," reminder"]}),Object(M.jsxs)("div",{className:A.a.inputGroup,children:[Object(M.jsxs)("label",{children:[Object(M.jsx)("span",{children:"Title:"}),Object(M.jsxs)("div",{className:A.a.inputHolder,children:[Object(M.jsx)("input",{name:"title",onChange:g,maxLength:30,value:u.title,ref:r,type:"text"}),Object(M.jsx)("small",{className:u.title.length>=30?A.a.red:"",children:"max 30 chars"})]})]}),Object(M.jsxs)("label",{children:[Object(M.jsx)("span",{children:"Date:"}),Object(M.jsxs)("div",{className:A.a.inputHolder,children:[Object(M.jsx)("input",{name:"date",onChange:g,value:u.date,type:"text"}),Object(M.jsx)("small",{className:A.a.red,children:_.date})]})]}),Object(M.jsxs)("label",{children:[Object(M.jsx)("span",{children:"Time:"}),Object(M.jsxs)("div",{className:A.a.inputHolder,children:[Object(M.jsx)("input",{name:"time",onChange:g,value:u.time,maxLength:5,type:"text"}),Object(M.jsx)("small",{className:A.a.red,children:_.time})]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:"Color:"}),Object(M.jsx)("div",{className:A.a.colorsRadioGroup,children:H.map((function(e){return Object(M.jsx)("label",{className:"".concat(A.a.colorRadioAux," ").concat(e===u.color?A.a.active:""),style:{backgroundColor:e},children:Object(M.jsx)("input",{id:e,checked:e===u.color,name:"color",onChange:g,type:"radio",value:e})},e)}))})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:Y,className:A.a.button,disabled:C,children:"Save"}),c.id?Object(M.jsx)("button",{onClick:y,className:"".concat(A.a.button," ").concat(A.a.red),children:"Remove reminder"}):null,Object(M.jsx)("button",{onClick:t,className:A.a.button,children:"Cancel"})]})]})]})]})}function w(){var e=p()(),t=Object(a.useState)(void 0),n=Object(x.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.clone()),o=Object(x.a)(i,2),l=o[0],d=o[1];return Object(M.jsxs)("div",{className:R.a.calendar,children:[Object(M.jsx)("button",{onClick:function(){return r({datetime:l.format("YYYY-MM-DD 12:00:00")})},children:"Add reminder"}),Object(M.jsxs)("div",{className:R.a.heading,children:[Object(M.jsx)("h2",{children:l.format("MMMM YYYY")}),e.isSame(l,"month")?null:Object(M.jsx)("button",{className:R.a.todayButton,onClick:function(){return d(e.clone())},children:"Today"}),Object(M.jsxs)("div",{className:R.a.monthControls,children:[Object(M.jsx)("button",{title:"Previous month",onClick:function(){return d((function(e){return e.clone().subtract(1,"month")}))},children:Object(M.jsx)("span",{children:"\u2039"})}),Object(M.jsx)("button",{title:"Next month",onClick:function(){return d((function(e){return e.clone().add(1,"month")}))},children:Object(M.jsx)("span",{children:"\u203a"})})]})]}),Object(M.jsx)(D,{baseDate:l,onDateSelect:function(e){return d(p()(e).clone())},setModalReminder:r}),c&&Object(M.jsx)(F,{onHide:function(){return r(void 0)},reminder:c})]})}var G=function(){return Object(M.jsx)(o.a,{store:f,children:Object(M.jsx)(w,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(27);i.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(G,{})}),document.getElementById("root")),I()},5:function(e,t,n){e.exports={cellContent:"Cell_cellContent__F8Oq1",selected:"Cell_selected__3meDO",day:"Cell_day__IWxfb",isToday:"Cell_isToday__3GWUT",reminders:"Cell_reminders__1sXTn",reminder:"Cell_reminder__aHhFF",emptyCell:"Cell_emptyCell__2eO3W"}},8:function(e,t,n){e.exports={calendar:"Calendar_calendar__3jvP9",heading:"Calendar_heading__27Oha",todayButton:"Calendar_todayButton__5gwOt",monthControls:"Calendar_monthControls__2XW7t"}}},[[28,1,2]]]);
//# sourceMappingURL=main.0c3c1fc4.chunk.js.map